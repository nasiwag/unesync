import{a as b}from"./_baseIsEqual.d6f60a0b.js";import{M as g}from"./Modal.e5b9be64.js";import{T as k}from"./TextInput.a2d825bb.js";import{A as w}from"./AutoComplete.241817c7.js";import{L as v}from"./LoadingButton.d5296c11.js";import{_ as V,r,o as i,d as c,w as y,a as l,t as m,b as u,c as h,f as S,h as C,F as B}from"./app.7f0e9691.js";var E=b;function q(e,t){return E(e,t)}var J=q;const I={emits:["close","selected"],components:{AutoComplete:w,LoadingButton:v,Modal:g,TextInput:k},props:{variants:{required:!0},nf:String,show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},data(){return{sku:null,error:null}},watch:{sku:{immediate:!0,handler(e){e&&e.length==36&&(this.error=null,this.$emit("selected",e))}}},mounted(){this.error=null,document.getElementById("variation-sku").focus()},methods:{checkSelected(){this.variants.find(e=>!e.selected)||this.add()},add(){if(this.variants.find(e=>!e.selected))this.error=this.$t("Please select all the variants");else{let e={};this.variants.map(t=>t.selected?e[t.name]=t.selected:""),this.error=null,this.$emit("selected",e)}},close(){this.$emit("close")}}},L={class:"relative px-6 py-4"},M={class:"text-lg font-bold"},N={class:"mt-4"},U={class:"py-2 mx-auto max-w-7xl"},A={key:0,class:"text-red-600 px-4 py-3 mb-6 rounded-md bg-red-100"},F={class:"flex items-start gap-6"};function T(e,t,o,W,n,d){const f=r("icons"),p=r("text-input"),_=r("auto-complete"),x=r("modal");return i(),c(x,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:d.close},{default:y(()=>[l("div",L,[l("h3",M,m(e.$t("Select Variants")),1),l("button",{onClick:t[0]||(t[0]=s=>d.close()),class:"fixed top-2 right-2 flex items-center justify-center h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[u(f,{name:"cross",class:"h-5 w-5"})]),l("div",N,[l("section",U,[n.error||o.nf?(i(),h("div",A,m(n.error||o.nf),1)):S("",!0),u(p,{class:"w-full block mb-6",id:"variation-sku",modelValue:n.sku,"onUpdate:modelValue":t[1]||(t[1]=s=>n.sku=s),placeholder:e.$t("Scan barcode")},null,8,["modelValue","placeholder"]),l("div",F,[(i(!0),h(B,null,C(o.variants,s=>(i(),c(_,{key:s.sku,class:"w-1/2",id:s.sku,label:e.$t(s.name),modelValue:s.selected,"onUpdate:modelValue":[a=>s.selected=a,d.checkSelected],position:"bottom-12 sm:top-12",suggestions:s.option.filter(a=>a).map(a=>e.$t(a))},null,8,["id","label","modelValue","onUpdate:modelValue","suggestions"]))),128))])])])])]),_:1},8,["show","max-width","closeable","onClose"])}var K=V(I,[["render",T]]);export{K as S,J as i};
