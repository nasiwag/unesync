import{T as k}from"./Input.33dca280.js";import{T}from"./Label.048d0136.js";import{L as V}from"./LoadingButton.d5296c11.js";import{T as C}from"./ValidationErrors.746475b8.js";import{T as w}from"./AuthenticationCard.e2cc48d5.js";import{T as L}from"./AuthenticationCardLogo.e10fa5ba.js";import{_ as x,r as s,o as c,d as B,w as y,b as n,a as m,c as i,g as a,t as l,F as u,k as v}from"./app.7f0e9691.js";import"./ApplicationMark.f5051ed3.js";const R={components:{TecInput:k,TecLabel:T,LoadingButton:V,TecValidationErrors:C,TecAuthenticationCard:w,TecAuthenticationCardLogo:L},data(){return{recovery:!1,form:this.$inertia.form({code:"",recovery_code:""})}},created(){document.title=this.$t("OTP")+" \u2022 "+this.$settings.name},mounted(){document.body.classList.add("spinner-normal")},unmounted(){document.body.classList.remove("spinner-normal")},methods:{toggleRecovery(){this.recovery^=!0,this.$nextTick(()=>{this.recovery?(this.$refs.recovery_code.focus(),this.form.code=""):(this.$refs.code.focus(),this.form.recovery_code="")})},submit(){this.form.post(this.route("two-factor.login"))}}},U={class:"mb-4 text-gray-600"},$={key:0},F={key:1},N={class:"flex items-center justify-end mt-4"};function P(t,o,A,E,e,d){const _=s("tec-authentication-card-logo"),g=s("tec-validation-errors"),f=s("tec-label"),p=s("tec-input"),b=s("loading-button"),h=s("tec-authentication-card");return c(),B(h,null,{logo:y(()=>[n(_)]),default:y(()=>[m("div",U,[e.recovery?(c(),i(u,{key:1},[a(l(t.$t("Please confirm access to your account by entering one of your emergency recovery codes.")),1)],64)):(c(),i(u,{key:0},[a(l(t.$t("Please confirm access to your account by entering the authentication code provided by your authenticator application.")),1)],64))]),n(g,{class:"mb-4"}),m("form",{onSubmit:o[3]||(o[3]=v((...r)=>d.submit&&d.submit(...r),["prevent"]))},[e.recovery?(c(),i("div",F,[n(f,{for:"recovery_code",value:t.$t("Recovery Code")},null,8,["value"]),n(p,{type:"text",id:"recovery_code",ref:"recovery_code",class:"mt-1 block w-full",modelValue:e.form.recovery_code,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.recovery_code=r),autocomplete:"one-time-code"},null,8,["modelValue"])])):(c(),i("div",$,[n(f,{for:"code",value:t.$t("Code")},null,8,["value"]),n(p,{autofocus:"",id:"code",ref:"code",type:"text",inputmode:"numeric",modelValue:e.form.code,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.code=r),class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])),m("div",N,[m("button",{type:"button",onClick:o[2]||(o[2]=v((...r)=>d.toggleRecovery&&d.toggleRecovery(...r),["prevent"])),class:"text-gray-600 py-3 px-4 rounded-md hover:text-gray-900 hover:bg-gray-200 cursor-pointer transition-all"},[e.recovery?(c(),i(u,{key:1},[a(l(t.$t("Use an authentication code")),1)],64)):(c(),i(u,{key:0},[a(l(t.$t("Use a recovery code")),1)],64))]),n(b,{type:"submit",class:"ml-2",loading:e.form.processing,disabled:e.form.processing},{default:y(()=>[a(l(t.$t("Login")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})}var G=x(R,[["render",P]]);export{G as default};
