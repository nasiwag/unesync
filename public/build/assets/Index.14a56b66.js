import{S as P,m as S,p as A}from"./SearchFilter.ce511daf.js";import{t as j}from"./throttle.d54d892c.js";import{D as B}from"./Dialog.3441429d.js";import{M as I}from"./Modal.e5b9be64.js";import R from"./Details.514ddd91.js";import{T as N}from"./Button.9f28211d.js";import{P as L}from"./Pagination.27fb388c.js";import{S as O}from"./SelectInput.3f535d75.js";import{T as E,a as F}from"./DropdownLink.e265102c.js";import{A as U}from"./AdminLayout.ba431b54.js";import{A as W}from"./AutoComplete.241817c7.js";import{T as q}from"./SectionTitle.850f7dea.js";import{_ as Y,r as a,o as r,d as m,w as u,a as t,b as o,g as h,t as n,c as f,h as G,n as b,f as p,F as v}from"./app.7f0e9691.js";import"./_baseIsEqual.d6f60a0b.js";import"./LoadingButton.d5296c11.js";import"./DialogModal.25f05db4.js";import"./DangerButton.3c4e2a43.js";import"./SecondaryButton.017b11cf.js";import"./JsBarcode.429efe0e.js";import"./TrashedMessage.3910bf19.js";import"./ApplicationLogo.135e3d4e.js";import"./ApplicationMark.f5051ed3.js";import"./index.1f699fe1.js";import"./Label.048d0136.js";import"./InputError.7cfbcfa2.js";const H={components:{Modal:I,Dialog:B,TecButton:N,Pagination:L,AdminLayout:U,TecDropdown:E,SelectInput:O,AutoComplete:W,SearchFilter:P,CheckoutDetails:R,TecDropdownLink:F,TecSectionTitle:q},props:{filters:Object,checkouts:Object},data(){return{edit:null,close:!1,checkout:null,details:!1,confirm:!1,loading:!1,permanent:!1,restoreConf:!1,form:{search:this.filters.search,trashed:this.filters.trashed}}},watch:{form:{handler:j(function(){let e=A(this.form);this.$inertia.get(this.route("checkouts.index",Object.keys(e).length?e:{remember:"forget"}),{},{onFinish:()=>{document.getElementById("page-search").focus()}})},150),deep:!0}},methods:{goto(e){this.checkout&&this.checkout.id==e?this.details=!0:(this.loading=!0,axios.get(route("checkouts.show",e)+"?json=yes").then(d=>{this.checkout=d.data,this.details=!0,this.loading=!1}))},showDetails(){this.details=!1},hideDetails(){this.details=!1},reset(){this.form=S(this.form,()=>null)},sendEmail(e){this.$inertia.get(route("notifications.checkout",e))},destroy(e){this.edit=e,this.confirm=!0},deleteItem(){this.$inertia.delete(route("checkouts.destroy",this.edit.id),{onSuccess:()=>this.closeModal()})},closeModal(){this.edit=null,this.confirm=!1},restore(e){this.edit=e,this.restoreConf=!0},restoreItem(){this.$inertia.put(this.route("checkouts.restore",this.edit.id),{onSuccess:()=>this.restoreConf=!1})},closeRestoreModal(){this.edit=null,this.restoreConf=!1},deletePermanently(e){this.edit=e,this.permanent=!0},deleteCategoryPermanently(){this.$inertia.delete(route("checkouts.destroy.permanently",this.edit.id),{onSuccess:()=>this.closeModal()})},closePermanentModal(){this.edit=null,this.permanent=!1},print(){window.print()}}},J={class:"px-4 md:px-0"},K={class:"mb-6 flex justify-between items-center print:hidden"},Q={class:"hidden lg:inline"},X={class:"bg-white -mx-4 md:mx-0 md:rounded-md shadow overflow-x-auto"},Z={class:"w-full whitespace-nowrap"},ee={class:"text-left font-bold"},te={class:"px-6 pt-6 pb-4"},se={class:"px-6 pt-6 pb-4"},oe={class:"px-6 pt-6 pb-4",colspan:"2"},ne=["onClick"],ie={class:"px-6 py-4 flex items-center focus:text-indigo-500"},le={class:"flex items-center"},re=["onClick"],ae={class:"px-6 py-4"},ce={class:"flex items-center"},de={class:"text-gray-500 mr-1"},ue={class:"flex items-center"},me={class:"text-gray-500 mr-1"},he={class:"flex items-center"},fe={class:"text-gray-500 mr-1"},pe=["onClick"],ge={class:"px-6 py-4 flex items-center"},_e={class:"w-full whitespace-normal line-clamp-3"},ye={class:"border-t w-16"},be={class:"px-4 flex items-center print:hidden"},ke={key:0,class:"flex items-center"},we=["onClick"],ve=["onClick"],Ce=["onClick"],xe=["onClick"],De={key:0},$e={class:"border-t px-6 py-4",colspan:"4"},Te={class:"px-6 py-4 print:px-0"},Ve={key:0,class:"flex items-center justify-between print:hidden"},ze={class:"text-lg"},Me={class:"hidden sm:inline"},Pe={class:"-mr-2 flex items-center"},Se={class:"mt-4 print-mt-0"};function Ae(e,d,_,je,i,l){const C=a("tec-section-title"),k=a("auto-complete"),x=a("search-filter"),c=a("icons"),D=a("tec-button"),w=a("Link"),$=a("pagination"),T=a("checkout-details"),V=a("modal"),y=a("Dialog"),z=a("loading"),M=a("admin-layout");return r(),m(M,{title:e.$t("Checkouts")},{default:u(()=>[t("div",J,[o(C,{class:"-mx-4 md:mx-0 mb-6"},{title:u(()=>[h(n(e.$t("Checkouts")),1)]),description:u(()=>[h(n(e.$t("Please review the data in the table below")),1)]),_:1}),t("div",K,[o(x,{modelValue:i.form.search,"onUpdate:modelValue":d[2]||(d[2]=s=>i.form.search=s),class:"w-full max-w-md mr-4",onReset:l.reset},{default:u(()=>[o(k,{id:"trashed",position:"left",label:e.$t("Trashed"),modelValue:i.form.trashed,"onUpdate:modelValue":d[0]||(d[0]=s=>i.form.trashed=s),class:"mt-1 w-full",suggestions:[{label:e.$t("Not Trashed"),value:null},{label:e.$t("With Trashed"),value:"with"},{label:e.$t("Only Trashed"),value:"only"}]},null,8,["label","modelValue","suggestions"]),o(k,{id:"draft",position:"left",label:e.$t("Draft"),modelValue:i.form.draft,"onUpdate:modelValue":d[1]||(d[1]=s=>i.form.draft=s),class:"mt-1 w-full",suggestions:[{label:e.$t("All"),value:null},{label:e.$t("Yes"),value:"yes"},{label:e.$t("No"),value:"no"}]},null,8,["label","modelValue","suggestions"])]),_:1},8,["modelValue","onReset"]),o(D,{href:e.route("checkouts.create")},{default:u(()=>[t("span",null,[o(c,{name:"plus",class:"w-5 h-5 lg:mr-2"})]),t("span",Q,n(e.$t("create_x",{x:e.$t("Checkout")})),1)]),_:1},8,["href"])]),t("div",X,[t("table",Z,[t("tr",ee,[t("th",te,n(e.$t("Checkout")),1),t("th",se,n(e.$t("Relations")),1),t("th",oe,n(e.$t("Details")),1)]),(r(!0),f(v,null,G(_.checkouts.data,(s,Be)=>(r(),f("tr",{key:s.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",{class:b(["border-t",{"cursor-pointer":e.$can("read-checkouts")}]),onClick:g=>l.goto(s.id)},[t("div",ie,[t("div",null,[t("div",null,n(s.reference),1),t("div",null,n(e.$date(s.date)),1),t("div",le,[h(n(e.$t("Draft"))+": ",1),s.draft==1?(r(),m(c,{key:0,name:"tick",class:"text-green-600 mx-auto"})):(r(),m(c,{key:1,name:"cross",class:"text-red-600 mx-auto"}))])]),s.deleted_at?(r(),m(c,{key:0,name:"trash",class:"shrink-0 w-4 h-4 text-red-500 ml-2"})):p("",!0)])],10,ne),t("td",{class:b(["border-t",{"cursor-pointer":e.$can("read-checkouts")}]),onClick:g=>l.goto(s.id)},[t("div",ae,[t("div",ce,[t("div",de,n(e.$t("Contact"))+":",1),h(" "+n(s.contact.name),1)]),t("div",ue,[t("div",me,n(e.$t("Warehouse"))+":",1),h(" "+n(s.warehouse.name),1)]),t("div",he,[t("div",fe,n(e.$t("User"))+":",1),h(" "+n(s.user.name),1)])])],10,re),t("td",{class:b(["border-t max-w-lg min-w-56",{"cursor-pointer":e.$can("read-checkouts")}]),onClick:g=>l.goto(s.id)},[t("div",ge,[t("div",_e,n(s.details),1)])],10,pe),t("td",ye,[t("div",be,[e.$can(["create-checkouts","import-checkouts","export-checkouts"])?(r(),f("div",ke,[o(w,{href:e.route("checkouts.show",s.id),class:"flex items-center p-3 md:p-2 bg-blue-600 rounded-l-md text-white hover:bg-blue-700 focus:bg-blue-700 z-0 focus:z-10 focus:outline-none focus:ring focus:ring-gray-300 transition ease-in-out duration-150"},{default:u(()=>[o(c,{name:"doc"})]),_:2},1032,["href"]),t("button",{onClick:g=>l.sendEmail(s.id),class:"flex items-center p-3 md:p-2 bg-indigo-600 text-white hover:bg-indigo-700 focus:bg-indigo-700 z-0 focus:z-10 focus:outline-none focus:ring focus:ring-gray-300 transition ease-in-out duration-150"},[o(c,{name:"email"})],8,we),e.$can("update-checkouts")?(r(),m(w,{key:0,href:e.route("checkouts.edit",s.id),class:"flex items-center p-3 md:p-2 bg-yellow-600 text-white hover:bg-yellow-700 focus:bg-yellow-700 z-0 focus:z-10 focus:outline-none focus:ring focus:ring-gray-300 transition ease-in-out duration-150"},{default:u(()=>[o(c,{name:"edit"})]),_:2},1032,["href"])):p("",!0),s.deleted_at?(r(),f(v,{key:1},[t("button",{type:"button",onClick:g=>l.restore(s),class:"flex items-center p-3 md:p-2 bg-blue-600 text-white hover:bg-blue-700 focus:bg-blue-700 z-0 focus:z-10 focus:outline-none focus:ring focus:ring-gray-300 transition ease-in-out duration-150"},[o(c,{name:"refresh"})],8,ve),t("button",{type:"button",onClick:g=>l.deletePermanently(s),class:"flex items-center p-3 md:p-2 bg-red-600 rounded-r-md text-white hover:bg-red-700 focus:bg-red-700 z-0 focus:z-10 focus:outline-none focus:ring focus:ring-gray-300 transition ease-in-out duration-150"},[o(c,{name:"trash"})],8,Ce)],64)):(r(),f("button",{key:2,type:"button",onClick:g=>l.destroy(s),class:"flex items-center p-3 md:p-2 bg-red-600 rounded-r-md text-white hover:bg-red-700 focus:bg-red-700 z-0 focus:z-10 focus:outline-none focus:ring focus:ring-gray-300 transition ease-in-out duration-150"},[o(c,{name:"trash"})],8,xe))])):p("",!0)])])]))),128)),_.checkouts.data.length===0?(r(),f("tr",De,[t("td",$e,n(e.$t("There is no data to display.")),1)])):p("",!0)])]),o($,{class:"mt-6",meta:_.checkouts.meta,links:_.checkouts.links},null,8,["meta","links"])]),o(V,{show:i.details,"max-width":"4xl",closeable:!0,onClose:l.hideDetails},{default:u(()=>[t("div",Te,[i.details&&i.checkout?(r(),f("div",Ve,[t("div",ze,[h(n(e.$t("Checkout Details"))+" ",1),t("span",Me,"("+n(i.checkout.reference)+")",1)]),t("div",Pe,[t("button",{onClick:d[3]||(d[3]=s=>l.hideDetails()),class:"flex items-center justify-center h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[o(c,{name:"cross",class:"h-5 w-5"})])])])):p("",!0),t("div",Se,[i.checkout?(r(),m(T,{key:0,checkout:i.checkout},null,8,["checkout"])):p("",!0)])])]),_:1},8,["show","onClose"]),o(y,{"max-width":"md",show:i.permanent,"action-type":"delete",title:"Delete Checkout!",close:l.closePermanentModal,"action-text":"Delete Permanently",action:l.deleteCategoryPermanently,content:`<p class='mb-2'>${e.$t("Are you sure you want to delete the record permanently?")}</p>
        <p>${e.$t("Once deleted, all of its resources and data will be permanently deleted.")}</p>`},null,8,["show","close","action","content"]),o(y,{show:i.confirm,close:l.closeModal,action:l.deleteItem,"action-type":"delete",title:"Delete Checkout!","action-text":"Delete Checkout",content:e.$t("Are you sure you want to delete the record?")},null,8,["show","close","action","content"]),o(y,{show:i.restoreConf,action:l.restoreItem,title:"Restore Checkout!",close:l.closeRestoreModal,"action-text":"Restore Checkout",content:e.$t("Are you sure you want to restore the record?")},null,8,["show","action","close","content"]),i.loading?(r(),m(z,{key:0})):p("",!0)]),_:1},8,["title"])}var rt=Y(H,[["render",Ae]]);export{rt as default};
