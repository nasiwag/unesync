import{T as S}from"./Input.33dca280.js";import{T as V}from"./Label.048d0136.js";import{L as B}from"./LoadingButton.d5296c11.js";import{T as C}from"./InputError.7cfbcfa2.js";import{T as N}from"./FormSection.82ec9a11.js";import{T as I}from"./ActionMessage.84226e08.js";import{T as U}from"./SecondaryButton.017b11cf.js";import{_ as E,r as n,o as d,d as v,w as s,g as a,t as i,c as L,a as l,b as t,i as g,j as P,E as j,k as b,f as w}from"./app.7f0e9691.js";import"./SectionTitle.850f7dea.js";const A={components:{TecInput:S,TecLabel:V,TecButton:B,TecInputError:C,TecFormSection:N,TecActionMessage:I,TecSecondaryButton:U},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const e=new FileReader;e.onload=r=>{this.photoPreview=r.target.result},e.readAsDataURL(this.$refs.photo.files[0])},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>this.photoPreview=null})}}},D={key:0,class:"col-span-6 sm:col-span-4"},F={class:"mt-2"},R=["src","alt"],z={class:"mt-2"},M={class:"col-span-6 sm:col-span-4"},q={class:"col-span-6 sm:col-span-4"};function G(e,r,u,H,o,m){const p=n("tec-label"),h=n("tec-secondary-button"),f=n("tec-input-error"),_=n("tec-input"),k=n("tec-action-message"),y=n("tec-button"),T=n("tec-form-section");return d(),v(T,{onSubmitted:m.updateProfileInformation},{title:s(()=>[a(i(e.$t("Profile Information")),1)]),description:s(()=>[a(i(e.$t("Update your account's profile information and email address.")),1)]),form:s(()=>[e.$page.props.jetstream.managesProfilePhotos?(d(),L("div",D,[l("input",{type:"file",class:"hidden",ref:"photo",onChange:r[0]||(r[0]=(...c)=>m.updatePhotoPreview&&m.updatePhotoPreview(...c))},null,544),t(p,{for:"photo",value:e.$t("Photo")},null,8,["value"]),g(l("div",F,[l("img",{src:u.user.profile_photo_url,alt:u.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,R)],512),[[P,!o.photoPreview]]),g(l("div",z,[l("span",{class:"block rounded-full w-20 h-20",style:j("background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+o.photoPreview+"');")},null,4)],512),[[P,o.photoPreview]]),t(h,{class:"mt-2 mr-2",type:"button",onClick:b(m.selectNewPhoto,["prevent"])},{default:s(()=>[a(i(e.$t("Select A New Photo")),1)]),_:1},8,["onClick"]),u.user.profile_photo_path?(d(),v(h,{key:0,type:"button",class:"mt-2",onClick:b(m.deletePhoto,["prevent"])},{default:s(()=>[a(i(e.$t("Remove Photo")),1)]),_:1},8,["onClick"])):w("",!0),t(f,{message:o.form.errors.photo,class:"mt-2"},null,8,["message"])])):w("",!0),l("div",M,[t(p,{for:"name",value:e.$t("Name")},null,8,["value"]),t(_,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o.form.name,"onUpdate:modelValue":r[1]||(r[1]=c=>o.form.name=c),autocomplete:"name"},null,8,["modelValue"]),t(f,{message:o.form.errors.name,class:"mt-2"},null,8,["message"])]),l("div",q,[t(p,{for:"email",value:e.$t("Email")},null,8,["value"]),t(_,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:o.form.email,"onUpdate:modelValue":r[2]||(r[2]=c=>o.form.email=c)},null,8,["modelValue"]),t(f,{message:o.form.errors.email,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[t(k,{on:o.form.recentlySuccessful,class:"mr-3"},{default:s(()=>[a(i(e.$t("Saved.")),1)]),_:1},8,["on"]),t(y,{loading:o.form.processing,disabled:o.form.processing},{default:s(()=>[a(i(e.$t("Save")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["onSubmitted"])}var x=E(A,[["render",G]]);export{x as default};
