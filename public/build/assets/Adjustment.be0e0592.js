import{M as F}from"./Modal.e5b9be64.js";import{T}from"./Button.9f28211d.js";import $ from"./Form.c440d4be.js";import{P as B}from"./Pagination.27fb388c.js";import{A as L}from"./AdminLayout.ba431b54.js";import N from"./Details.b36735fb.js";import{T as V}from"./SectionTitle.850f7dea.js";import{_ as P,r as i,o as n,d as u,w as h,a as t,b as r,g as p,t as s,i as S,j as M,T as O,c as f,h as R,n as g,f as _,F as z}from"./app.7f0e9691.js";import"./CheckBox.4a0d7770.js";import"./index.1f699fe1.js";import"./Checkbox.0d543eb0.js";import"./InputError.7cfbcfa2.js";import"./TextInput.a2d825bb.js";import"./Label.048d0136.js";import"./Input.33dca280.js";import"./SelectInput.3f535d75.js";import"./AutoComplete.241817c7.js";import"./throttle.d54d892c.js";import"./LoadingButton.d5296c11.js";import"./DropdownLink.e265102c.js";import"./ApplicationLogo.135e3d4e.js";import"./ApplicationMark.f5051ed3.js";import"./JsBarcode.429efe0e.js";import"./TrashedMessage.3910bf19.js";const E={components:{Modal:F,TecButton:T,ReportForm:$,Pagination:B,AdminLayout:L,AdjustmentDetails:N,TecSectionTitle:V},props:{filters:Object,adjustments:Object,users:Array,categories:Array,warehouses:Array},data(){return{adjustment:null,details:!1,showForm:!1,loading:!1}},methods:{toggleForm(){this.showForm=!this.showForm},goto(e){this.adjustment&&this.adjustment.id==e?this.details=!0:(this.loading=!0,axios.get(route("adjustments.show",e)+"?json=yes").then(l=>{this.adjustment=l.data,this.details=!0,this.loading=!1}))},showDetails(){this.details=!1},hideDetails(){this.details=!1},print(){window.print()}}},U={class:"px-4 md:px-0"},W={class:"flex items-start justify-between"},q={class:"hidden lg:inline"},G={class:"w-full print:hidden"},H={class:"bg-white -mx-4 md:mx-0 md:rounded-md shadow overflow-x-auto"},I={class:"w-full whitespace-nowrap"},J={class:"text-left font-bold"},K={class:"px-6 pt-6 pb-4"},Q={class:"px-6 pt-6 pb-4"},X={class:"px-6 pt-6 pb-4"},Y=["onClick"],Z={class:"px-6 py-4 flex items-center focus:text-indigo-500"},tt={class:"flex items-center"},et=["onClick"],st={class:"px-6 py-4"},ot={class:"flex items-center"},nt={class:"text-gray-500 mr-1"},it={class:"flex items-center"},rt={class:"text-gray-500 mr-1"},at=["onClick"],lt={class:"px-6 py-4 flex items-center"},dt={class:"w-full whitespace-normal line-clamp-3"},ct={key:0},mt={class:"border-t px-6 py-4",colspan:"3"},ut={class:"px-6 py-4 print:px-0"},ht={key:0,class:"flex items-center justify-between print:hidden"},pt={class:"text-lg"},_t={class:"hidden sm:inline"},ft={class:"-mr-2 flex items-center"},gt={class:"mt-4 print-mt-0"};function wt(e,l,d,yt,a,c){const y=i("tec-section-title"),m=i("icons"),v=i("tec-button"),x=i("report-form"),j=i("pagination"),b=i("Link"),k=i("adjustment-details"),C=i("modal"),A=i("loading"),D=i("admin-layout");return n(),u(D,{title:e.$t("x_report",{x:e.$t("Adjustment")})},{default:h(()=>[t("div",U,[t("div",W,[r(y,{class:"-mx-4 md:mx-0 mb-6"},{title:h(()=>[p(s(e.$t("x_report",{x:e.$t("Adjustment")})),1)]),description:h(()=>[p(s(e.$t("Please review the report below")),1)]),_:1}),r(v,{type:"button",onClick:l[0]||(l[0]=o=>c.toggleForm())},{default:h(()=>[t("span",null,[r(m,{name:"toggle",class:"w-5 h-5 lg:mr-2"})]),t("span",q,s(e.$t("toggle_x",{x:e.$t("Form")})),1)]),_:1})]),r(O,{name:"slidedown"},{default:h(()=>[S(t("div",G,[r(x,{users:d.users,type:"adjustment",categories:d.categories,warehouses:d.warehouses,action:e.route("reports.adjustment")},null,8,["users","categories","warehouses","action"])],512),[[M,a.showForm]])]),_:1}),t("div",H,[t("table",I,[t("tr",J,[t("th",K,s(e.$t("Adjustment")),1),t("th",Q,s(e.$t("Relations")),1),t("th",X,s(e.$t("Details")),1)]),(n(!0),f(z,null,R(d.adjustments.data,(o,vt)=>(n(),f("tr",{key:o.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",{class:g(["border-t",{"cursor-pointer":e.$can("read-adjustments")}]),onClick:w=>c.goto(o.id)},[t("div",Z,[t("div",null,[t("div",null,s(o.reference),1),t("div",null,s(e.$date(o.date)),1),t("div",tt,[p(s(e.$t("Draft"))+": ",1),o.draft==1?(n(),u(m,{key:0,name:"tick",class:"text-green-600 mx-auto"})):(n(),u(m,{key:1,name:"cross",class:"text-red-600 mx-auto"}))])]),o.deleted_at?(n(),u(m,{key:0,name:"trash",class:"shrink-0 w-4 h-4 text-red-500 ml-2"})):_("",!0)])],10,Y),t("td",{class:g(["border-t",{"cursor-pointer":e.$can("read-adjustments")}]),onClick:w=>c.goto(o.id)},[t("div",st,[t("div",ot,[t("div",nt,s(e.$t("Warehouse"))+":",1),p(" "+s(o.warehouse.name),1)]),t("div",it,[t("div",rt,s(e.$t("User"))+":",1),p(" "+s(o.user.name),1)])])],10,et),t("td",{class:g(["border-t max-w-lg min-w-56",{"cursor-pointer":e.$can("read-adjustments")}]),onClick:w=>c.goto(o.id)},[t("div",lt,[t("div",dt,s(o.details),1)])],10,at)]))),128)),d.adjustments.data.length===0?(n(),f("tr",ct,[t("td",mt,s(e.$t("There is no data to display.")),1)])):_("",!0)])]),r(j,{class:"mt-6",meta:d.adjustments.meta,links:d.adjustments.links},null,8,["meta","links"])]),r(C,{show:a.details,"max-width":"4xl",closeable:!0,onClose:c.hideDetails},{default:h(()=>[t("div",ut,[a.details&&a.adjustment?(n(),f("div",ht,[t("div",pt,[p(s(e.$t("Adjustment Details"))+" ",1),t("span",_t,"("+s(a.adjustment.reference)+")",1)]),t("div",ft,[t("button",{onClick:l[1]||(l[1]=o=>c.print()),class:"flex items-center justify-center mr-2 h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[r(m,{name:"printer",class:"h-5 w-5"})]),e.$can("update-adjustments")?(n(),u(b,{key:0,href:e.route("adjustments.edit",a.adjustment.id),class:"flex items-center justify-center mr-2 h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},{default:h(()=>[r(m,{name:"edit",class:"h-5 w-5"})]),_:1},8,["href"])):_("",!0),t("button",{onClick:l[2]||(l[2]=o=>c.hideDetails()),class:"flex items-center justify-center h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[r(m,{name:"cross",class:"h-5 w-5"})])])])):_("",!0),t("div",gt,[a.adjustment?(n(),u(k,{key:0,adjustment:a.adjustment},null,8,["adjustment"])):_("",!0)])])]),_:1},8,["show","onClose"]),a.loading?(n(),u(A,{key:0})):_("",!0)]),_:1},8,["title"])}var Gt=P(E,[["render",wt]]);export{Gt as default};
